services:
  - type: web
    name: cyberquest
    env: python
    buildCommand: pip install -r requirements.txt
    startCommand: gunicorn -w 4 -b 0.0.0.0:$PORT run:app
    envVars:
      - key: FLASK_ENV
        value: production
      - key: SECRET_KEY
        generateValue: true
      - key: WTF_CSRF_TIME_LIMIT
        value: "3600"
      - key: PERMANENT_SESSION_LIFETIME
        value: "7"
      - key: MAX_LOGIN_ATTEMPTS
        value: "5"
      - key: LOGIN_LOCKOUT_MINUTES
        value: "15"
    # Add your environment variables here (you'll need to set these in Render dashboard):
    # - SUPABASE_URL
    # - SUPABASE_SERVICE_ROLE_KEY
    # - MAIL_SERVER
    # - MAIL_PORT
    # - MAIL_USE_TLS
    # - MAIL_USERNAME
    # - MAIL_PASSWORD
